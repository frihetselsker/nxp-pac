includes:
- cm33.yaml
transforms:

  - !DeleteEnumVariants
    enum: inputmux::vals::Dma0ItrigInmuxInp
    from: VAL22
  - !DeleteEnumVariants
    enum: inputmux::vals::InpN
    from: VAL24
  - !DeleteEnumVariants
    enum: inputmux::vals::Timer0captselCaptsel
    from: VAL25
  - !DeleteEnumVariants
    enum: inputmux::vals::Timer1captselCaptsel
    from: VAL25
  - !DeleteEnumVariants
    enum: inputmux::vals::Timer2captselCaptsel
    from: VAL25
  - !DeleteEnumVariants
    enum: inputmux::vals::Timer3captselCaptsel
    from: VAL25
  - !DeleteEnumVariants
    enum: inputmux::vals::Timer4captselCaptsel
    from: VAL25

  # - !DeleteEnumVariants
  #   enum: syscon::vals::AdcclkselSel
  #   from: ENUM_0X[5-7]
  
  - !DeleteEnums
    from: syscon::vals::AdcclkselSel

  - !Add
    ir:
      enum/syscon::vals::AdcclkselSel:
        description: ADC clock source select
        bit_size: 3
        variants: 
          - name: mainclk
            description: Main clk.
            value: 0x00
          - name: pll0
            description: PLL0 clk.
            value: 0x01
          - name: fro96
            description: FRO 96 MHZ clk.
            value: 0x02
          - name: none
            description: No clk.
            value: 0x04 
    
  # yuppiii it does what i wanted it to do :D
  - !Add
    ir:
      enum/puf::regs::Key:
        description: Key destination for PUF key.
        bit_size: 8
        variants: 
          - name: aes
            description: Send key to AES engine.
            value: 0x56
          - name: prince0
            description: Send key to PRINCE engine for memory layout 0.
            value: 0x59
          - name: prince1
            description: Send key to PRINCE engine for memory layout 1.
            value: 0x65
          - name: prince2
            description: Send key to PRINCE engine for memory layout 2.
            value: 0x95
          - name: none
            description: Do not send key to any hardware engine.
            value: 0x55
    

#   as a wise man once said(random comment in the lpc55-pac): "Fix bogus offsets"   

  - !ModifyByteOffset
    blocks: sau::Sau
    add_offset: -208 # 0xd0

#   IT WORKS yey :D

  - !DeleteRegisters
    block: syscon::Syscon
    from: ahbclkctrlx\d
  - !DeleteRegisters
    block: syscon::Syscon
    from: presetctrlx\d

  - !Delete
    from: syscon::regs::Ahbclkctrlx\d
  - !Delete
    from: syscon::regs::Presetctrlx\d

  - !MergeEnums
    from: iocon::vals::Pio\d+Asw
    to: iocon::vals::PioAsw
  - !MergeEnums
    from: iocon::vals::Pio\d+Digimode
    to: iocon::vals::PioDigimode
  - !MergeEnums
    from: iocon::vals::Pio\d+Func
    to: iocon::vals::PioFunc
  - !MergeEnums
    from: iocon::vals::Pio\d+Mode
    to: iocon::vals::PioMode
  - !MergeEnums
    from: iocon::vals::Pio\d+Od
    to: iocon::vals::PioOd
  - !MergeEnums
    from: iocon::vals::Pio\d+Slew
    to: iocon::vals::PioSlew
  - !MergeEnums
    from: iocon::vals::Pio\d+Ssel
    to: iocon::vals::PioSsel
  - !MergeEnums
    from: iocon::vals::Pio\d+I2cfilter
    to: iocon::vals::PioI2cfilter
  - !MergeEnums
    from: iocon::vals::Pio\d+Filteroff
    to: iocon::vals::PioFilteroff
  - !MergeEnums
    from: iocon::vals::Pio\d+Egp
    to: iocon::vals::PioEgp

  - !MakeRegisterArray
    blocks: iocon::Iocon
    from: pio0_\d+
    to: pio0
  - !MakeRegisterArray
    blocks: iocon::Iocon
    from: pio1_\d+
    to: pio1

  - !MergeEnums
    from: syscon::vals::Fc\dRst
    to: syscon::vals::FcRst
  - !MergeEnums
    from: syscon::vals::Fcclksel\dSel
    to: syscon::vals::FcclkselSel
